<div class="container" style="margin-top: 50px">
    <h1>จัดการโปรโมชั่น</h1>
</div>

<alert-message [type]="alertType" [message]="alertMessage"></alert-message>

<div class="container" style="margin-top: 50px; margin-bottom: 50px;border-bottom: 1px solid #000;" *ngIf="list != null && list.length > 0">
    <button type="button" class="btn btn-primary" style="margin-bottom: 10px" (click)="create()" [disabled]="isNew">สร้างใหม่</button>
    <app-list [list]="list" [header]="header" [showItem]="item" (deleteEvent)="delete($event)" (editEvent)="edit($event)" (viewEvent)="view($event)" [isDrag]=false></app-list>
</div>
<div class="container" style="margin-top: 50px; margin-bottom: 50px;border-bottom: 1px solid #000;" *ngIf="list == null || (list != null && list.length == 0) ">
    <button type="button" class="btn btn-primary" style="margin-bottom: 10px" (click)="create()" [disabled]="isNew">สร้างใหม่</button>
    <br/>
    No data found.
</div>

<div class="container" *ngIf="isNew || isEdit" #target>
        <form #proForm="ngForm" (ngSubmit)="onSubmit(proForm)">

                <fieldset class="form-group">
                        <div class="row">
                            <legend class="col-form-label col-sm-2 pt-0">ประเภทโปรโมชั่น</legend>
                            <div class="col-sm-10">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="type" id="proTypeText" value="ข้อความ" (change)="showTypeText()" checked [(ngModel)]="pro.detail_type">
                                    <label class="form-check-label" for="proTypeText">
                                        ข้อความ
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="type" id="proTypePic" value="รูปภาพ" (change)="showTypePic()" [(ngModel)]="pro.detail_type">
                                    <label class="form-check-label" for="proTypePic">
                                        รูปภาพ
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="type" id="proTypePic" value="ลิงค์" (change)="showTypeText()" [(ngModel)]="pro.detail_type">
                                    <label class="form-check-label" for="proTypePic">
                                        ลิงค์
                                    </label>
                                </div>
                            </div>
                        </div>
                    </fieldset>
        
                    <div class="form-group row" *ngIf="selectedTypeText">
                        <label for="inputProText" class="col-sm-2 col-form-label">โปรโมชั่น/ลิงค์</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="inputProText" placeholder="โปรโมชั่น" name="detail" [(ngModel)]="pro.detail">
                        </div>
                    </div>
        
                    <div class="form-group row" *ngIf="!selectedTypeText">
                        <label for="inputProPic" class="col-sm-2 col-form-label">ไฟล์โปรโมชั่น</label>
                        <div class="col-sm-10">
                            <input type="file" class="form-control" id="inputProPic" placeholder="คำถาม" accept=".png,.gif,.jpg,.jpeg"  (change)="upload($event)" >
                        </div>
                    </div>

                    <fieldset class="form-group">
                            <div class="row">
                                <legend class="col-form-label col-sm-2 pt-0">สถานะ</legend>
                                <div class="col-sm-10">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="active" id="active" value="ใช้งาน" checked [(ngModel)]="pro.active">
                                        <label class="form-check-label" for="active">
                                            ใช้งาน
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="active" id="inActive" value="ไม่ใช้งาน" [(ngModel)]="pro.active">
                                        <label class="form-check-label" for="inActive">
                                            ไม่ใช้งาน
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
            


            <div class="form-group row">
                <div class="col-sm-10">
                    <button type="submit" class="btn btn-primary" style="margin-right: 20px;">บันทึก</button>
                    <button type="reset" class="btn btn-primary" style="margin-right: 20px;" (click)="onClear(proForm)">ล้าง</button>
                    <button type="button" class="btn btn-primary" (click)="onCancel(proForm)">ยกเลิก</button>
                </div>
            </div>
    </form>
</div>